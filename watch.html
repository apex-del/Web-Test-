<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimeWorld - Watch Anime</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Player Page -->
    <div class="player-page" id="playerPage">
        <div class="player-header">
            <h2 class="player-title" id="playerAnimeTitle"></h2>
            <button class="close-player" id="closePlayer">
                <i class="fas fa-times"></i> Close
            </button>
        </div>
        
        <div class="player-container">
            <div class="video-container">
                <iframe
                    id="iframe-embed"
                    allow="fullscreen; autoplay; encrypted-media; picture-in-picture"
                    sndbox="allow-scripts allow-same-origin allow-top-navigation allow-forms allow-presentation"
                    allowfullscreen
                    mozallowfullscreen
                    webkitallowfullscreen
                    frameborder="0"
                    style="width:100%; border:none;">
                </iframe>
            </div>

            <div class="player-controls">
                <div class="language-switcher">
                    <button class="language-btn active" id="subBtn" onclick="switchLanguage('sub')">
                        <i class="fas fa-closed-captioning"></i> Sub
                    </button>
                    <button class="language-btn" id="dubBtn" onclick="switchLanguage('dub')">
                        <i class="fas fa-microphone"></i> Dub
                    </button>
                </div>
            </div>

            <div class="episode-info">
                <h3 id="episodeTitle">Episode 1</h3>
                <p class="episode-description" id="episodeDescription">Loading episode description...</p>
            </div>

            <div class="episodes-section">
                <h3 class="section-title">Episodes</h3>
                <div class="episodes-grid" id="episodesGrid">
                    <!-- Episodes will be loaded here -->
                </div>
            </div>

            <div class="recommendations-section">
                <h3 class="section-title">You Might Also Like</h3>
                <div class="recommendations-grid" id="recommendationsGrid">
                    <!-- Recommendations will be loaded here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fullscreen Loader -->
    <div class="loader-container" id="fullscreenLoader">
        <div class="loader"></div>
        <div class="loader-content">
            <i class="fas fa-spinner fa-pulse"></i>
            <p id="loaderMessage">Loading video player...</p>
            <button onclick="location.reload()" id="retryBtn">Retry</button>
        </div>
    </div>

    <script src="anime-data.js"></script>
    <script src="watch.js"></script>
</body>
</html>